(()=>{"use strict";function e(e,t){const n=document.createElement(e);return n.className=t,n}class t{constructor(){this._tagName="td",this._dataNumber,this._childImgSrc="img/Roman.jpg"}get tagName(){return this._tagName}get childImgSrc(){return this._childImgSrc}createCell(t){const n=e(this.tagName,""),r=e("img","");return r.src=this.childImgSrc,n.append(r),t.append(n),n}}const n=document.getElementById("app"),r=document.querySelector(".start"),c=(document.getElementById("500"),document.getElementById("1000"),document.getElementById("1500"),document.querySelector(".player")),l=document.querySelector(".computer"),a=document.querySelector("table");let i,o,d=1500;r.addEventListener("click",(()=>{clearInterval(o),clearTimeout(i),[...document.querySelectorAll("input")].forEach((r=>{r.checked&&(d=+r.value,function(){let r=0,u=0,m=0;l.innerText=`Количество очков у компьютера: ${u}`,c.innerText=`Количество очков у игрока: ${r}`,a.innerHTML="";for(let n=0;n<10;n++){const n=e("tr","");for(let e=0;e<10;e++)(new t).createCell(n);a.append(n)}const s=[...document.querySelectorAll("td")];s.forEach((e=>{e.setAttribute("data-number",m),m++}));let g=s.map(((e,t)=>t));function p(){const t=e("div","end-game-modal"),c=e("p","winner"),l=e("button","again-button");l.innerText="Заного.",c.innerText=10===u?`Ты проиграл со счетом ${r}:${u}`:`Ты выиграл со счетом ${r}:${u}`,t.append(c,l),n.append(t),l.addEventListener("click",(()=>{t.remove()}))}o=setInterval((function(e=d){const t=Math.floor(Math.random()*g.length);s.map((e=>{if(+e.getAttribute("data-number")===g[t]){function n(){if(e.firstChild.style.top="100%",e.style.background="green",r++,c.innerText=`Количество очков у игрока: ${r}`,10===r)return clearInterval(o),clearTimeout(i),void p();clearTimeout(i),g=[...g].filter(((e,n)=>n!==t))}e.addEventListener("click",n),e.firstChild.style.top="0%",i=setTimeout((()=>{if(e.firstChild.style.top="100%",e.style.background="red",e.removeEventListener("click",n),u++,l.innerText=`Количество очков у компьютера: ${u}`,10===u)return clearInterval(o),void p();g=[...g].filter(((e,n)=>n!==t))}),d)}}))}),2e3)}())}))}))})();